import{S as Z,i as x,s as $,F as G,j as E,G as J,g as v,M as S,N as B,d as C,h as u,C as w,k as T,V as re,e as z,a as I,Q as ee,b as N,f as M,R as te,l as A,T as le,m as L,t as U,p as fe,q as j,U as ae,r as oe,v as se,w as ue,x as ce,y as he,A as me,B as _e}from"./index.DyNL2P1o.js";import{e as Y}from"./each.-gASlQSi.js";const de={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},ge={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]};function pe(e,t){e.style.fontSize=t&&"lg"!==t&&"sm"!==t&&"xs"!==t?t.replace("x","em"):""}function ye(e,t,a,s,l,r=1,n="",o=""){let i=1,c=1;l&&("horizontal"==l?i=-1:"vertical"==l?c=-1:i=c=-1),"string"==typeof e&&(e=parseFloat(e)),"string"==typeof t&&(t=parseFloat(t)),"string"==typeof a&&(a=parseFloat(a));let u=`translate(${`${t*r}${n}`},${`${a*r}${n}`}) scale(${i*e},${c*e})`;return s&&(u+=` rotate(${s}${o})`),u}function H(e){let t,a,s,l,r,n,o;function i(e,t){return"string"==typeof e[16][4]?be:ve}let c=i(e),f=c(e);return{c(){t=S("svg"),a=S("g"),s=S("g"),f.c(),this.h()},l(e){t=B(e,"svg",{id:!0,class:!0,style:!0,viewBox:!0,"aria-hidden":!0,role:!0,xmlns:!0});var l=C(t);a=B(l,"g",{transform:!0,"transform-origin":!0});var r=C(a);s=B(r,"g",{transform:!0});var n=C(s);f.l(n),n.forEach(v),r.forEach(v),l.forEach(v),this.h()},h(){u(s,"transform",e[15]),u(a,"transform",l="translate("+e[16][0]/2+" "+e[16][1]/2+")"),u(a,"transform-origin",r=e[16][0]/4+" 0"),u(t,"id",e[1]),u(t,"class",n="svelte-fa svelte-fa-base "+e[0]+" svelte-bvo74f"),u(t,"style",e[2]),u(t,"viewBox",o="0 0 "+e[16][0]+" "+e[16][1]),u(t,"aria-hidden","true"),u(t,"role","img"),u(t,"xmlns","http://www.w3.org/2000/svg"),w(t,"pulse",e[8]),w(t,"svelte-fa-size-lg","lg"===e[3]),w(t,"svelte-fa-size-sm","sm"===e[3]),w(t,"svelte-fa-size-xs","xs"===e[3]),w(t,"svelte-fa-fw",e[5]),w(t,"svelte-fa-pull-left","left"===e[6]),w(t,"svelte-fa-pull-right","right"===e[6]),w(t,"spin",e[7])},m(l,r){E(l,t,r),T(t,a),T(a,s),f.m(s,null),e[23](t)},p(e,p){c===(c=i(e))&&f?f.p(e,p):(f.d(1),f=c(e),f&&(f.c(),f.m(s,null))),32768&p&&u(s,"transform",e[15]),65536&p&&l!==(l="translate("+e[16][0]/2+" "+e[16][1]/2+")")&&u(a,"transform",l),65536&p&&r!==(r=e[16][0]/4+" 0")&&u(a,"transform-origin",r),2&p&&u(t,"id",e[1]),1&p&&n!==(n="svelte-fa svelte-fa-base "+e[0]+" svelte-bvo74f")&&u(t,"class",n),4&p&&u(t,"style",e[2]),65536&p&&o!==(o="0 0 "+e[16][0]+" "+e[16][1])&&u(t,"viewBox",o),257&p&&w(t,"pulse",e[8]),9&p&&w(t,"svelte-fa-size-lg","lg"===e[3]),9&p&&w(t,"svelte-fa-size-sm","sm"===e[3]),9&p&&w(t,"svelte-fa-size-xs","xs"===e[3]),33&p&&w(t,"svelte-fa-fw",e[5]),65&p&&w(t,"svelte-fa-pull-left","left"===e[6]),65&p&&w(t,"svelte-fa-pull-right","right"===e[6]),129&p&&w(t,"spin",e[7])},d(a){a&&v(t),f.d(),e[23](null)}}}function ve(e){let t,a,s,l,r,n,o,i,c,f;return{c(){t=S("path"),n=S("path"),this.h()},l(e){t=B(e,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),C(t).forEach(v),n=B(e,"path",{d:!0,fill:!0,"fill-opacity":!0,transform:!0}),C(n).forEach(v),this.h()},h(){u(t,"d",a=e[16][4][0]),u(t,"fill",s=e[10]||e[4]||"currentColor"),u(t,"fill-opacity",l=0!=e[13]?e[11]:e[12]),u(t,"transform",r="translate("+e[16][0]/-2+" "+e[16][1]/-2+")"),u(n,"d",o=e[16][4][1]),u(n,"fill",i=e[9]||e[4]||"currentColor"),u(n,"fill-opacity",c=0!=e[13]?e[12]:e[11]),u(n,"transform",f="translate("+e[16][0]/-2+" "+e[16][1]/-2+")")},m(e,a){E(e,t,a),E(e,n,a)},p(e,p){65536&p&&a!==(a=e[16][4][0])&&u(t,"d",a),1040&p&&s!==(s=e[10]||e[4]||"currentColor")&&u(t,"fill",s),14336&p&&l!==(l=0!=e[13]?e[11]:e[12])&&u(t,"fill-opacity",l),65536&p&&r!==(r="translate("+e[16][0]/-2+" "+e[16][1]/-2+")")&&u(t,"transform",r),65536&p&&o!==(o=e[16][4][1])&&u(n,"d",o),528&p&&i!==(i=e[9]||e[4]||"currentColor")&&u(n,"fill",i),14336&p&&c!==(c=0!=e[13]?e[12]:e[11])&&u(n,"fill-opacity",c),65536&p&&f!==(f="translate("+e[16][0]/-2+" "+e[16][1]/-2+")")&&u(n,"transform",f)},d(e){e&&(v(t),v(n))}}}function be(e){let t,a,s,l;return{c(){t=S("path"),this.h()},l(e){t=B(e,"path",{d:!0,fill:!0,transform:!0}),C(t).forEach(v),this.h()},h(){u(t,"d",a=e[16][4]),u(t,"fill",s=e[4]||e[9]||"currentColor"),u(t,"transform",l="translate("+e[16][0]/-2+" "+e[16][1]/-2+")")},m(e,a){E(e,t,a)},p(e,r){65536&r&&a!==(a=e[16][4])&&u(t,"d",a),528&r&&s!==(s=e[4]||e[9]||"currentColor")&&u(t,"fill",s),65536&r&&l!==(l="translate("+e[16][0]/-2+" "+e[16][1]/-2+")")&&u(t,"transform",l)},d(e){e&&v(t)}}}function we(e){let t,a=e[16][4]&&H(e);return{c(){a&&a.c(),t=G()},l(e){a&&a.l(e),t=G()},m(e,s){a&&a.m(e,s),E(e,t,s)},p(e,[s]){e[16][4]?a?a.p(e,s):(a=H(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i:J,o:J,d(e){e&&v(t),a&&a.d(e)}}}function ke(e,t,a){let s,l,r,{class:n}=t,{id:o}=t,{style:i}=t,{icon:c}=t,{size:u}=t,{color:f}=t,{fw:p=!1}=t,{pull:h}=t,{scale:d=1}=t,{translateX:m=0}=t,{translateY:y=0}=t,{rotate:v}=t,{flip:g}=t,{spin:w=!1}=t,{pulse:$=!1}=t,{primaryColor:x=""}=t,{secondaryColor:C=""}=t,{primaryOpacity:b=1}=t,{secondaryOpacity:E=.4}=t,{swapOpacity:T=!1}=t;return e.$$set=e=>{"class"in e&&a(0,n=e.class),"id"in e&&a(1,o=e.id),"style"in e&&a(2,i=e.style),"icon"in e&&a(17,c=e.icon),"size"in e&&a(3,u=e.size),"color"in e&&a(4,f=e.color),"fw"in e&&a(5,p=e.fw),"pull"in e&&a(6,h=e.pull),"scale"in e&&a(18,d=e.scale),"translateX"in e&&a(19,m=e.translateX),"translateY"in e&&a(20,y=e.translateY),"rotate"in e&&a(21,v=e.rotate),"flip"in e&&a(22,g=e.flip),"spin"in e&&a(7,w=e.spin),"pulse"in e&&a(8,$=e.pulse),"primaryColor"in e&&a(9,x=e.primaryColor),"secondaryColor"in e&&a(10,C=e.secondaryColor),"primaryOpacity"in e&&a(11,b=e.primaryOpacity),"secondaryOpacity"in e&&a(12,E=e.secondaryOpacity),"swapOpacity"in e&&a(13,T=e.swapOpacity)},e.$$.update=()=>{16392&e.$$.dirty&&r&&u&&pe(r,u),131072&e.$$.dirty&&a(16,s=c&&c.icon||[0,0,"",[],""]),8126464&e.$$.dirty&&a(15,l=ye(d,m,y,v,g,512))},[n,o,i,u,f,p,h,w,$,x,C,b,E,T,r,l,s,c,d,m,y,v,g,function(e){re[e?"unshift":"push"]((()=>{r=e,a(14,r)}))}]}class ne extends Z{constructor(e){super(),x(this,e,ke,we,$,{class:0,id:1,style:2,icon:17,size:3,color:4,fw:5,pull:6,scale:18,translateX:19,translateY:20,rotate:21,flip:22,spin:7,pulse:8,primaryColor:9,secondaryColor:10,primaryOpacity:11,secondaryOpacity:12,swapOpacity:13})}}function K(e,t,a){const s=e.slice();return s[13]=t[a],s[14]=t,s[15]=a,s}function Q(e){let t,a;return{c(){t=z("div"),a=ce(e[2]),this.h()},l(s){t=N(s,"DIV",{class:!0});var l=C(t);a=he(l,e[2]),l.forEach(v),this.h()},h(){u(t,"class","text-red-500 bg-red-100 border border-red-400 p-2 rounded mb-4")},m(e,s){E(e,t,s),T(t,a)},p(e,t){4&t&&me(a,e[2])},d(e){e&&v(t)}}}function R(e){let t,a,s,l,r,n,o,i,c,f,p,h;function d(){return e[7](e[13])}function m(){e[8].call(r,e[14],e[15])}function y(...t){return e[9](e[13],...t)}function g(){return e[10](e[13])}return i=new ne({props:{icon:de}}),{c(){t=z("li"),a=z("input"),l=I(),r=z("input"),n=I(),o=z("button"),ee(i.$$.fragment),c=I(),this.h()},l(e){t=N(e,"LI",{});var s=C(t);a=N(s,"INPUT",{type:!0,class:!0}),l=M(s),r=N(s,"INPUT",{type:!0,class:!0}),n=M(s),o=N(s,"BUTTON",{class:!0});var u=C(o);te(i.$$.fragment,u),u.forEach(v),c=M(s),s.forEach(v),this.h()},h(){u(a,"type","checkbox"),a.checked=s=e[13].isCompleted,u(a,"class","mr-3 w-6 h-6"),u(r,"type","text"),u(r,"class","flex-grow p-2 border rounded mr-3 w-96 shadow"),u(o,"class","bg-red-500 text-white p-2 rounded hover:bg-red-600")},m(s,u){E(s,t,u),T(t,a),T(t,l),T(t,r),A(r,e[13].text),T(t,n),T(t,o),le(i,o,null),T(t,c),f=!0,p||(h=[L(a,"change",d),L(r,"input",m),L(r,"change",y),L(o,"click",g)],p=!0)},p(t,l){e=t,(!f||1&l&&s!==(s=e[13].isCompleted))&&(a.checked=s),1&l&&r.value!==e[13].text&&A(r,e[13].text)},i(e){f||(U(i.$$.fragment,e),f=!0)},o(e){j(i.$$.fragment,e),f=!1},d(e){e&&v(t),ae(i),p=!1,se(h)}}}function Te(e){let t,a,s,l,r,n,o,i,c,f,p;r=new ne({props:{icon:ge}});let h=e[2]&&Q(e),d=Y(e[0]),m=[];for(let t=0;t<d.length;t+=1)m[t]=R(K(e,d,t));const y=e=>j(m[e],1,1,(()=>{m[e]=null}));return{c(){t=z("div"),a=z("input"),s=I(),l=z("button"),ee(r.$$.fragment),n=I(),h&&h.c(),o=I(),i=z("ol");for(let e=0;e<m.length;e+=1)m[e].c();this.h()},l(e){t=N(e,"DIV",{class:!0});var c=C(t);a=N(c,"INPUT",{type:!0,placeholder:!0,class:!0}),s=M(c),l=N(c,"BUTTON",{class:!0});var u=C(l);te(r.$$.fragment,u),u.forEach(v),c.forEach(v),n=M(e),h&&h.l(e),o=M(e),i=N(e,"OL",{class:!0});var f=C(i);for(let e=0;e<m.length;e+=1)m[e].l(f);f.forEach(v),this.h()},h(){u(a,"type","text"),u(a,"placeholder","New task"),u(a,"class","flex-grow p-2 border rounded mr-2"),u(l,"class","bg-blue-500 text-white p-2 rounded hover:bg-blue-600"),u(t,"class","flex items-center mb-4"),u(i,"class","list-decimal pl-6")},m(u,d){E(u,t,d),T(t,a),A(a,e[1]),T(t,s),T(t,l),le(r,l,null),E(u,n,d),h&&h.m(u,d),E(u,o,d),E(u,i,d);for(let e=0;e<m.length;e+=1)m[e]&&m[e].m(i,null);c=!0,f||(p=[L(a,"input",e[6]),L(l,"click",e[3])],f=!0)},p(e,[t]){if(2&t&&a.value!==e[1]&&A(a,e[1]),e[2]?h?h.p(e,t):(h=Q(e),h.c(),h.m(o.parentNode,o)):h&&(h.d(1),h=null),49&t){let a;for(d=Y(e[0]),a=0;a<d.length;a+=1){const s=K(e,d,a);m[a]?(m[a].p(s,t),U(m[a],1)):(m[a]=R(s),m[a].c(),U(m[a],1),m[a].m(i,null))}for(_e(),a=d.length;a<m.length;a+=1)y(a);fe()}},i(e){if(!c){U(r.$$.fragment,e);for(let e=0;e<d.length;e+=1)U(m[e]);c=!0}},o(e){j(r.$$.fragment,e),m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)j(m[e]);c=!1},d(e){e&&(v(t),v(n),v(o),v(i)),ae(r),h&&h.d(e),oe(m,e),f=!1,se(p)}}}const W=100;function Ce(e,t,a){let s=[],l="",r=null;const n=async(e,t,l)=>{try{if(!(await fetch(`http://toycube.com.au/api/tasks/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,isCompleted:l})})).ok)throw new Error("Failed to update task");a(0,s=s.map((a=>a.id===e?{...a,text:t,isCompleted:l}:a)))}catch(e){i(e.message)}},o=async e=>{try{if(!(await fetch(`http://toycube.com.au/api/tasks/${e}`,{method:"DELETE"})).ok)throw new Error("Failed to delete task");a(0,s=s.filter((t=>t.id!==e)))}catch(e){i(e.message)}},i=e=>{a(2,r=e),setTimeout((()=>{a(2,r=null)}),5e3)};ue((async()=>{try{const e=await fetch("http://toycube.com.au/api/tasks");if(!e.ok)throw new Error("Failed to fetch tasks");a(0,s=await e.json())}catch(e){i(e.message)}}));return[s,l,r,async()=>{if(""!==l.trim())if(l.length>W)i("Task exceeds maximum length of 100 characters.");else try{const e=await fetch("http://toycube.com.au/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:l})});if(!e.ok)throw new Error("Failed to add task");const t=await e.json();a(0,s=[...s,t]),a(1,l="")}catch(e){i(e.message)}else i("Task cannot be empty.")},n,o,function(){l=this.value,a(1,l)},e=>n(e.id,e.text,!e.isCompleted),function(e,t){e[t].text=this.value,a(0,s)},(e,t)=>n(e.id,t.target.value,e.isCompleted),e=>o(e.id)]}class Le extends Z{constructor(e){super(),x(this,e,Ce,Te,$,{})}}export{Le as default};